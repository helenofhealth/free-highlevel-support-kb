<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>How to set up Google Ad Precautionary Tracking Script</title>
  
  <!-- Standard Meta Tags -->
  <meta name="title" content="How to set up Google Ad Precautionary Tracking Script">
  <meta name="description" content=" Covered in this article:     How to set up Google Ad Precautionary Tracking Script  Step 1: Visit your Google Ad account  Step 2: Click on Tools and Settings &gt; Bulk Actions &gt; Scripts (See image below)   Step 3: Next, we need to remove the predefi...">
  <meta name="keywords" content="Google Ads Script,  Google Attribution,  Tracking Script,  Google Ads Tracking Script,  Google Tracking Script,  Ad Precautionary Tracking Script">

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="How to set up Google Ad Precautionary Tracking Script">
  <meta property="og:description" content=" Covered in this article:     How to set up Google Ad Precautionary Tracking Script  Step 1: Visit your Google Ad account  Step 2: Click on Tools and Settings &gt; Bulk Actions &gt; Scripts (See image below)   Step 3: Next, we need to remove the predefi...">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://help.gohighlevel.com/support/solutions/articles/48001219356-how-to-set-up-google-ad-precautionary-tracking-script">
</head>
<body>
  <div class="date_updated">
    <p><strong>Date Updated:</strong> 2022-09-14T22:25:26.000Z</p>
  </div>
  <div class="container">
    <p class="fd-toc" data-identifyelement="554"><strong data-identifyelement="555" dir="ltr"><span data-identifyelement="556" dir="ltr" style="font-size: 14px;">Covered in this article:</span></strong></p><h4 data-identifyelement="557" id=""><a data-identifyelement="558" dir="ltr" href="#How-to-set-up-Google-Ad-Precautionary-Tracking-Script"></a></h4><p><br><a dir="ltr" href="#How-to-set-up-Google-Ad-Precautionary-Tracking-Script"><strong>How to set up Google Ad Precautionary Tracking Script</strong></a></p><p style="margin-left: 20px;"><a href="#Step-1%3A%C2%A0Visit-your-Google-Ad-account"><strong>Step 1:</strong> Visit your Google Ad account</a></p><p style="margin-left: 20px;"><a href="#Step-2%3A-Click-on-Tools-and-Settings-%3E-Bulk-Actions-%3E-Scripts-(See-image-below)%C2%A0"><strong>Step 2:</strong> Click on Tools and Settings &gt; Bulk Actions &gt; Scripts (See image below)&nbsp;</a></p><p style="margin-left: 20px;"><a href="#Step-3%3A%C2%A0Next,-we-need-to-remove-the-predefined-code-and-add-this-script%3A"><strong>Step 3:&nbsp;</strong>Next, we need to remove the predefined code and add this script:</a></p><p style="margin-left: 20px;"><a href="#Step-4%3A%C2%A0After-closing,-we-need-to-change-the-name-of-the-script-and-change-the-frequency-from-the-list-to-the-Hourly-view."><strong>Step 4:</strong> After closing, we need to change the name of the script and change the frequency from the list to the Hourly view.</a></p><p><br><a href="#Frequently-Asked-Questions"><strong>Frequently Asked Questions</strong></a></p><ul><ul><li><a href="#If-I-have-another-script,-will-it-affect-it?">If I have another script, will it affect it?</a></li><li><a href="#Why-do-I-need-to-authorize-it?">Why do I need to authorize it?</a></li></ul></ul><h4 data-identifyelement="587" id="-1"><span data-identifyelement="589" dir="ltr" style="font-size: 14px;"><br data-identifyelement="557"></span></h4><p data-identifyelement="558"><br data-identifyelement="559"></p><hr data-identifyelement="484"><h2 data-identifyelement="485" id="How-to-set-up-Google-Ad-Precautionary-Tracking-Script"><strong data-identifyelement="486" dir="ltr">How to set up Google Ad Precautionary Tracking Script</strong></h2><p data-identifyelement="485" dir="ltr" id="​Step-1:&nbsp;Visit-your-Google-Ad-account">The script is a simple example of how you would set up the Google AdPrecautionary tracking code.&nbsp;</p><h4 class="ql-block" data-block-id="block-c8c0d6eb-05b5-47d2-baac-79259391b75b" data-identifyelement="590" dir="ltr" id="The-script-acts-as-a-fail-safe-if-the-UTM-template-fails-in-capturing-the-attribution-data.&nbsp;">The script acts as a fail-safe if the UTM template fails in capturing the attribution data.&nbsp;</h4><p data-identifyelement="591"><br data-identifyelement="592"></p><p data-identifyelement="485" dir="ltr" id="​Step-1:&nbsp;Visit-your-Google-Ad-account">It will track all clicks on a particular link and send it to Google Analytics. The only thing that needs to be changed in this script is the URL for the tracking page, which should match the one used by your website.</p><p data-identifyelement="485" dir="ltr"><br data-identifyelement="593"></p><p data-identifyelement="485" dir="ltr"><br data-identifyelement="594"></p><hr data-identifyelement="595"><h2 data-identifyelement="485" id="Step-1:&nbsp;Visit-your-Google-Ad-account"><strong data-identifyelement="486" dir="ltr">Step 1:&nbsp;</strong>Visit your Google Ad account</h2><h2 class="ql-block" data-block-id="block-6189bbd5-900c-4bea-b088-6e46260567d1" data-identifyelement="489" dir="ltr" id="Step-2:-Click-on-Tools-and-Settings->-Bulk-Actions->-Scripts-(See-image-below)&nbsp;"><br data-identifyelement="596"><strong data-identifyelement="490" dir="ltr">Step 2:</strong> Click on Tools and Settings &gt; Bulk Actions &gt; Scripts <strong data-identifyelement="491">(See image below)</strong><strong data-identifyelement="492" dir="ltr">&nbsp;</strong></h2><p data-identifyelement="597"><img src="https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/48241977655/original/vEEGwa2QwMlESew_jEuLDUxkpD7wzoHZ3w.png?1659117941" style="width: 654px;" class="fr-fil fr-dib fw-lightbox-img" data-attachment="[object Object]" data-id="48241977655" data-identifyelement="498" data-index="0"></p><p data-identifyelement="499"><br data-identifyelement="500"></p><p class="ql-block" data-block-id="block-052e0b43-c5a7-4006-9f19-f5839859a985" data-identifyelement="493" dir="ltr"><strong data-identifyelement="598">Please Note:</strong></p><pre class="fd-callout fd-callout--note" data-identifyelement="599" dir="ltr">If you are not able to find it, be sure to move to advanced view to see the tools and setting option.</pre><p data-identifyelement="505"><br data-identifyelement="506" dir="ltr"></p><hr data-identifyelement="602"><h2 data-identifyelement="502" dir="ltr" id="Step-3:&nbsp;Next,-we-need-to-remove-the-predefined-code-and-add-this-script:"><strong data-identifyelement="603" dir="ltr">Step 3:&nbsp;</strong>Next, we need to remove the predefined code and add this script:</h2><pre data-identifyelement="512" dir="ltr">function main() {<br data-identifyelement="513">    var TrackingTemplate = "{lpurl}?utm_source=adwords&amp;utm_medium={AdName}&amp;utm_campaign={CampaignName}&amp;utm_content={AdGroupName}&amp;utm_keyword={keyword}&amp;utm_matchtype={matchtype}&amp;campaign_id={campaignid}&amp;ad_group_id={adgroupid}&amp;ad_id={creative}";<br data-identifyelement="514"><br data-identifyelement="515"><br data-identifyelement="516">    var _CAMPAIGN_CONTAINS = "";<br data-identifyelement="517">    var _ADGROUP_CONTAINS = "";<br data-identifyelement="518">    var STATUS = "ENABLED";<br data-identifyelement="519"><br data-identifyelement="520"><br data-identifyelement="521">    if (TrackingTemplate.search(/{AdGroupName}|{CampaignName}|{AdName}/g) == -1) {<br data-identifyelement="522">        Logger.log("Enter at least one of the {CampaignName} or {AdGroupName} or {AdName} parameter in the tracking template");<br data-identifyelement="523">        return<br data-identifyelement="524">    }<br data-identifyelement="525">    <br data-identifyelement="526">    if (TrackingTemplate.search("{AdGroupName}") &gt; 0) {<br data-identifyelement="527">        var adgroupIterator = {<br data-identifyelement="528">            hasNext: function() {<br data-identifyelement="529">                return false<br data-identifyelement="530">            }<br data-identifyelement="531">        }<br data-identifyelement="532">        if (_ADGROUP_CONTAINS == "" &amp;&amp; _CAMPAIGN_CONTAINS == "") {<br data-identifyelement="533">            adgroupIterator = AdsApp.adGroups().withCondition("Status = " +  STATUS).get();<br data-identifyelement="534">        } else if (_ADGROUP_CONTAINS == "" &amp;&amp; _CAMPAIGN_CONTAINS !== "") {<br data-identifyelement="535">            adgroupIterator = AdsApp.adGroups().withCondition("CampaignName contains '" + _CAMPAIGN_CONTAINS + "'").withCondition("Status = " + STATUS).get();<br data-identifyelement="536">        } else if (_ADGROUP_CONTAINS !== "" &amp;&amp; _CAMPAIGN_CONTAINS !== "") {<br data-identifyelement="537">            adgroupIterator = AdsApp.adGroups().withCondition("CampaignName contains '" + _CAMPAIGN_CONTAINS + "'").withCondition("Name contains '" + _ADGROUP_CONTAINS + "'").withCondition("Status = " + STATUS).get();<br data-identifyelement="538">        } else if (_ADGROUP_CONTAINS !== "" &amp;&amp; _CAMPAIGN_CONTAINS == "") {<br data-identifyelement="539">            adgroupIterator = AdsApp.adGroups().withCondition("Name contains '" + _ADGROUP_CONTAINS + "'").withCondition("Status = " + STATUS).get();<br data-identifyelement="540">        }<br data-identifyelement="541"><br data-identifyelement="542"><br data-identifyelement="543">        if (!adgroupIterator.hasNext()) {<br data-identifyelement="544">            Logger.log("No Campaigns/Adgroups matched with this condition");<br data-identifyelement="545">            return<br data-identifyelement="546">        }<br data-identifyelement="547">        while (adgroupIterator.hasNext()) {<br data-identifyelement="548">            var adgroup = adgroupIterator.next();<br data-identifyelement="549">            var adgrouptemplate = TrackingTemplate.replace(/{AdGroupName}/g, adgroup.getName().replace(/\s/g, '%20'))<br data-identifyelement="550">            if (TrackingTemplate.search("{CampaignName}") &gt; 0) {<br data-identifyelement="551">                adgrouptemplate = adgrouptemplate.replace(/{CampaignName}/g, adgroup.getCampaign().getName().replace(/\s/g, '%20'))<br data-identifyelement="552">            }<br data-identifyelement="553"><br data-identifyelement="554"><br data-identifyelement="555">            if (TrackingTemplate.search("{AdName}") &gt; 0) {<br data-identifyelement="556">                var adsIterator = adgroup.ads().get();<br data-identifyelement="557">                while (adsIterator.hasNext()) {<br data-identifyelement="558">                  var ad = adsIterator.next();<br data-identifyelement="559">                  var adType = ad.getType();<br data-identifyelement="560">                  var headline = "";<br data-identifyelement="561"><br data-identifyelement="562"><br data-identifyelement="563">                  if (ad.getHeadline()) {<br data-identifyelement="564">                    headline = ad.getHeadline();<br data-identifyelement="565">                  } else if(ad.isType().expandedTextAd()) {<br data-identifyelement="566">                    headline = ad.asType().expandedTextAd().getHeadlinePart1();<br data-identifyelement="567">                  } else if(ad.isType().gmailImageAd()) {<br data-identifyelement="568">                    headline = ad.asType().gmailImageAd().getName();<br data-identifyelement="569">                  } else if(ad.isType().gmailMultiProductAd()) {<br data-identifyelement="570">                    headline = ad.asType().gmailMultiProductAd().getHeadline();<br data-identifyelement="571">                  } else if(ad.isType().gmailSinglePromotionAd()) {<br data-identifyelement="572">                    headline = ad.asType().gmailSinglePromotionAd().getHeadline();<br data-identifyelement="573">                  } else if(ad.isType().html5Ad()) {<br data-identifyelement="574">                    headline = ad.asType().html5Ad().getName();<br data-identifyelement="575">                  } else if(ad.isType().imageAd()) {<br data-identifyelement="576">                    headline = ad.asType().imageAd().getName();<br data-identifyelement="577">                  } else if(ad.isType().responsiveDisplayAd()) {<br data-identifyelement="578">                    headline = ad.asType().responsiveDisplayAd().getShortHeadline();<br data-identifyelement="579">                  } else if(ad.isType().responsiveSearchAd()) {<br data-identifyelement="580">                    var headlines = ad.asType().responsiveSearchAd().getHeadlines();<br data-identifyelement="581">                    if (headlines &amp;&amp; headlines[0].text) {<br data-identifyelement="582">                      headline = headlines[0].text;<br data-identifyelement="583">                    }<br data-identifyelement="584">                  }<br data-identifyelement="585"><br data-identifyelement="586"><br data-identifyelement="587">                  Logger.log("Headline text : " + headline);<br data-identifyelement="588"><br data-identifyelement="589"><br data-identifyelement="590">                  if (headline) {<br data-identifyelement="591">                    adgrouptemplate = adgrouptemplate.replace(/{AdName}/g, headline.replace(/\s/g, '%20'))<br data-identifyelement="592">                  } else {<br data-identifyelement="593">                    adgrouptemplate = adgrouptemplate.replace(/{AdName}/g, ad.getId())<br data-identifyelement="594">                  }<br data-identifyelement="595">                }<br data-identifyelement="596">            }<br data-identifyelement="597">            adgroup.urls().setTrackingTemplate(adgrouptemplate);<br data-identifyelement="598">            Logger.log(adgroup.getCampaign().getName() + " =&gt; " + adgroup.getName() + " =&gt; " + adgrouptemplate)<br data-identifyelement="599">        }
    }
}</pre><p data-identifyelement="602"><br data-identifyelement="603"></p><h2 data-identifyelement="605" dir="ltr" id="​"><br><br></h2><h2 data-identifyelement="502" dir="ltr" id="Step-4:&nbsp;After-closing,-we-need-to-change-the-name-of-the-script-and-change-the-frequency-from-the-list-to-the-Hourly-view." style="box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-weight: 400; line-height: 35px; color: rgb(0, 0, 0); margin: 0px; font-size: 1.5em; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;  text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><strong data-identifyelement="603" dir="ltr" style="box-sizing: border-box; font-weight: 700;">Step 4:&nbsp;</strong>After closing, we need to change the name of the script and change the <strong><u>frequency</u></strong> from the list to the <strong>H</strong><strong dir="ltr">ourly</strong> view.</h2><p data-identifyelement="606"><img src="https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/48248384457/original/eWel0Kfb1IBQoxSSLIJ2-oWLVw2oYZZ-_g.png?1661957147" style="width: 718px;" class="fr-fic fr-fil fr-dib fw-lightbox-img" data-attachment="[object Object]" data-id="48248384457" data-index="1"></p><p data-identifyelement="608"><br data-identifyelement="609"></p><p data-identifyelement="610"><br data-identifyelement="611"></p><p data-identifyelement="612"><br data-identifyelement="613"></p><hr data-identifyelement="606"><h1 data-identifyelement="607" dir="ltr" id="Frequently-Asked-Questions"><strong data-identifyelement="608" dir="ltr">Frequently Asked Questions</strong></h1><p data-identifyelement="609"><br data-identifyelement="610"></p><h3 data-identifyelement="611" dir="ltr" id="If-I-have-another-script,-will-it-affect-it?"><strong data-identifyelement="612" dir="ltr">If I have another script, will it affect it?</strong></h3><p data-identifyelement="613" dir="ltr" style="margin-left: 20px;">Yes, Scripts can override as it is affecting UTM parameters.</p><p data-identifyelement="613" dir="ltr" style="margin-left: 20px;"><br data-identifyelement="614"></p><p data-identifyelement="613" dir="ltr" style="margin-left: 20px;"><br data-identifyelement="615"></p><h3 data-identifyelement="617" dir="ltr" id="Why-do-I-need-to-authorize-it?"><strong data-identifyelement="616">Why do I need to authorize it?</strong></h3><p data-identifyelement="619" style="margin-left: 20px;">Authorization is needed for the script as it gets implemented on Google Ad Account. It is necessary to check the preview before running it, it should show the majority of campaigns as successful with the landing page found.</p><p data-identifyelement="617"><br data-identifyelement="618"></p><p data-identifyelement="619"><br data-identifyelement="620"></p>
            

<script type="text/javascript">
  const attachment_error_image = (attachment) => {
    const parentElement = attachment.parentElement;
    const defaultIcon = `<span class="icon-file-empty"></span><span class="fw-attachment-ext">${attachment.dataset.extension}</span>`;
    parentElement.innerHTML = defaultIcon;
  };
</script>
  </div>
</body>
</html>